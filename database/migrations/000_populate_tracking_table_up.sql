-- Populate the _migrations tracking table with previously applied migrations
-- This is a one-time migration to sync the tracking table with actual database state

INSERT INTO _migrations (filename, applied_at)
VALUES
  ('001_create_polls_table_up.sql', NOW() - INTERVAL '30 days'),
  ('002_add_response_deadline_up.sql', NOW() - INTERVAL '30 days'),
  ('003_add_poll_type_and_options_up.sql', NOW() - INTERVAL '30 days'),
  ('004_create_votes_table_up.sql', NOW() - INTERVAL '30 days'),
  ('005_create_poll_results_view_up.sql', NOW() - INTERVAL '30 days'),
  ('006_create_ranked_choice_rounds_table_up.sql', NOW() - INTERVAL '30 days'),
  ('007_add_creator_secret_up.sql', NOW() - INTERVAL '30 days'),
  ('008_create_ranked_choice_function_up.sql', NOW() - INTERVAL '30 days'),
  ('009_update_poll_results_view_up.sql', NOW() - INTERVAL '30 days'),
  ('010_fix_ranked_choice_rls_v2_up.sql', NOW() - INTERVAL '30 days'),
  ('011_fix_array_handling_up.sql', NOW() - INTERVAL '30 days'),
  ('012_fix_remaining_options_bug_up.sql', NOW() - INTERVAL '30 days'),
  ('013_add_is_closed_field_up.sql', NOW() - INTERVAL '30 days'),
  ('014_fix_ranked_choice_bug_up.sql', NOW() - INTERVAL '30 days'),
  ('015_add_polls_update_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('016_add_follow_up_to_polls_up.sql', NOW() - INTERVAL '30 days'),
  ('016_add_private_polls_up.sql', NOW() - INTERVAL '30 days'),
  ('016_add_voter_name_up.sql', NOW() - INTERVAL '30 days'),
  ('016_create_poll_access_tracking_up.sql', NOW() - INTERVAL '30 days'),
  ('016_fix_ranked_choice_zero_votes_up.sql', NOW() - INTERVAL '30 days'),
  ('016_fix_votes_update_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('017_create_poll_discovery_function_up.sql', NOW() - INTERVAL '30 days'),
  ('017_fix_zero_vote_elimination_bug_up.sql', NOW() - INTERVAL '30 days'),
  ('018_enable_realtime_on_polls_up.sql', NOW() - INTERVAL '30 days'),
  ('018_fix_poll_results_winner_for_ranked_choice_up.sql', NOW() - INTERVAL '30 days'),
  ('019_add_borda_count_tie_breaking_up.sql', NOW() - INTERVAL '30 days'),
  ('019_fix_bidirectional_poll_discovery_up.sql', NOW() - INTERVAL '30 days'),
  ('020_add_borda_scores_to_rounds_up.sql', NOW() - INTERVAL '30 days'),
  ('020_emergency_add_short_id_up.sql', NOW() - INTERVAL '30 days'),
  ('021_add_sequential_id_and_short_id_up.sql', NOW() - INTERVAL '30 days'),
  ('021_improve_incomplete_ballot_handling_up.sql', NOW() - INTERVAL '30 days'),
  ('022_fix_irv_sql_scope_up.sql', NOW() - INTERVAL '30 days'),
  ('023_fix_borda_tiebreaker_logic_up.sql', NOW() - INTERVAL '30 days'),
  ('024_fix_private_poll_short_id_up.sql', NOW() - INTERVAL '30 days'),
  ('025_enable_polls_rls_security_up.sql', NOW() - INTERVAL '30 days'),
  ('026_fix_polls_rls_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('027_add_poll_access_insert_function_up.sql', NOW() - INTERVAL '30 days'),
  ('028_emergency_rls_fix_up.sql', NOW() - INTERVAL '30 days'),
  ('029_remove_rls_system_up.sql', NOW() - INTERVAL '30 days'),
  ('030_remove_public_polls_up.sql', NOW() - INTERVAL '30 days'),
  ('031_add_vote_update_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('032_fix_vote_update_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('033_add_abstain_to_votes_up.sql', NOW() - INTERVAL '30 days'),
  ('034_fix_vote_constraint_for_abstain_up.sql', NOW() - INTERVAL '30 days'),
  ('035_fix_ranked_choice_constraint_for_abstain_up.sql', NOW() - INTERVAL '30 days'),
  ('036_fix_ranked_choice_abstain_handling_up.sql', NOW() - INTERVAL '30 days'),
  ('037_fix_remaining_options_variable_up.sql', NOW() - INTERVAL '30 days'),
  ('038_fix_latest_ranked_choice_abstain_up.sql', NOW() - INTERVAL '30 days'),
  ('039_fix_borda_count_abstain_up.sql', NOW() - INTERVAL '30 days'),
  ('040_add_creator_name_up.sql', NOW() - INTERVAL '30 days'),
  ('041_add_fork_relationship_up.sql', NOW() - INTERVAL '30 days'),
  ('042_add_nomination_poll_type_up.sql', NOW() - INTERVAL '30 days'),
  ('043_add_nominations_column_up.sql', NOW() - INTERVAL '30 days'),
  ('044_fix_nomination_abstain_constraint_up.sql', NOW() - INTERVAL '30 days'),
  ('045_fix_round_1_tie_breaking_up.sql', NOW() - INTERVAL '30 days'),
  ('046_fix_majority_calculation_for_exhausted_ballots_up.sql', NOW() - INTERVAL '30 days'),
  ('047_fix_outdated_vote_constraint_up.sql', NOW() - INTERVAL '30 days'),
  ('047_fix_vote_update_rls_policy_up.sql', NOW() - INTERVAL '30 days'),
  ('048_fix_vote_type_check_constraint_up.sql', NOW() - INTERVAL '30 days'),
  ('049_add_updated_at_to_votes_up.sql', NOW() - INTERVAL '30 days'),
  ('050_fix_nomination_abstain_constraint_up.sql', NOW() - INTERVAL '30 days'),
  ('051_add_participation_poll_type_up.sql', NOW() - INTERVAL '30 days'),
  ('052_fix_poll_type_constraint_up.sql', NOW() - INTERVAL '30 days'),
  ('053_add_participation_vote_structure_up.sql', NOW() - INTERVAL '30 days'),
  ('054_add_participation_to_poll_results_view_up.sql', NOW() - INTERVAL '30 days')
ON CONFLICT (filename) DO NOTHING;
